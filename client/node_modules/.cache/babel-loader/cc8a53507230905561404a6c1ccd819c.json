{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\Backeryshop\\\\client\\\\src\\\\component\\\\Cart.js\";\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport ShopContext from '../context/shop-context';\nconst TAX_RATE = 0.06;\nconst useStyles = makeStyles(theme => ({\n  tabl: {\n    borderBlockEndStyle: \"groove\",\n    borderColor: \"#d50000\",\n    borderWidth: 3,\n    borderWidth: 5\n  },\n  container: {\n    marginTop: '3.5rem'\n  },\n  button: {\n    marginTop: theme.spacing(6),\n    marginLeft: theme.spacing(86),\n    color: \"white\",\n    background: \"rgba(0, 0, 0, 0.95)\",\n    width: \"150px\",\n    height: \"67px\"\n  },\n  na: {\n    fontSize: 22,\n    fontFamily: \"Serif\",\n    fontWeight: \"bold\",\n    color: \"#d50000\"\n  },\n  Qa: {\n    fontSize: 21,\n    fontFamily: \"Serif\",\n    fontWeight: \"bold\",\n    color: \"#d50000\",\n    fontWeight: \"bold\"\n  },\n  m: {\n    fontSize: 17,\n    fontFamily: \"Serif\",\n    fontWeight: \"bold\"\n  },\n  tax: {\n    fontSize: 17,\n    fontFamily: \"Serif\",\n    fontWeight: \"bold\",\n    color: \"#d50000\",\n    fontWeight: \"bold\"\n  },\n  ts: {\n    fontSize: 15,\n    fontFamily: \"Serif\",\n    fontWeight: \"bold\"\n  }\n}));\n\nfunction ccyFormat(num) {\n  return `${num.toFixed(2)} JOD`;\n}\n\nfunction subtotal(items) {\n  return items.map(({\n    price,\n    quantity\n  }) => price * quantity).reduce((sum, i) => sum + i, 0);\n}\n\nexport default function SpanningTable() {\n  const classes = useStyles();\n\n  const order = () => {\n    window.location = \"/location\"; //alert(value)\n  };\n\n  const context = React.useContext(ShopContext);\n  const history = useHistory();\n  const [cartItems, setCartItems] = React.useState(JSON.parse(localStorage.getItem(\"cart\")) || []);\n  let invoiceSubtotal = subtotal(cartItems);\n  let invoiceTaxes = TAX_RATE * invoiceSubtotal;\n  let invoiceTotal = invoiceTaxes + invoiceSubtotal;\n  let localCart = localStorage.getItem(\"cart\");\n  React.useEffect(() => {\n    // there is no token, redirect to login page\n    if (localStorage.getItem('loggedInToken') === null) {\n      history.push('/login');\n    } //turn it into js\n\n\n    localCart = JSON.parse(localCart); // //load persisted cart into state if it exists\n\n    if (localCart) {\n      setCartItems(localCart);\n      invoiceSubtotal = subtotal(localCart);\n    }\n  }, [localCart]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.tabl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.na,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"Product\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.Qa,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.Qa,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.Qa,\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Sum\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, cartItems.length > 0 && cartItems.map((cartItem, idx) => /*#__PURE__*/React.createElement(TableRow, {\n    key: idx,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.m,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, cartItem.name), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.m,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, cartItem.quantity), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.m,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, cartItem.price, \"jd\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.m,\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, ccyFormat(cartItem.price * cartItem.quantity)), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: context.removeProductFromCart.bind(this, cartItem._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    className: classes.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }))))), cartItems.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    rowSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tax,\n    colSpan: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, \"Subtotal\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.ts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceSubtotal))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tax,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, \"Tax\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.ts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, `${(TAX_RATE * 100).toFixed(0)} %`), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.ts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceTaxes))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.tax,\n    colSpan: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(TableCell, {\n    className: classes.ts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceTotal)))), cartItems.length < 1 && /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    variant: \"p\",\n    id: \"tableTitle\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, \"No item in your shopping cart\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    variant: \"contained\",\n    className: classes.button,\n    component: \"a\",\n    onClick: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, \"Next     \")));\n}","map":{"version":3,"sources":["C:/Users/DELL/Desktop/Backeryshop/client/src/component/Cart.js"],"names":["React","useHistory","makeStyles","Container","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","DeleteIcon","IconButton","Typography","Button","ShopContext","TAX_RATE","useStyles","theme","tabl","borderBlockEndStyle","borderColor","borderWidth","container","marginTop","button","spacing","marginLeft","color","background","width","height","na","fontSize","fontFamily","fontWeight","Qa","m","tax","ts","ccyFormat","num","toFixed","subtotal","items","map","price","quantity","reduce","sum","i","SpanningTable","classes","order","window","location","context","useContext","history","cartItems","setCartItems","useState","JSON","parse","localStorage","getItem","invoiceSubtotal","invoiceTaxes","invoiceTotal","localCart","useEffect","push","length","cartItem","idx","name","removeProductFromCart","bind","_id","icon","title"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container';\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from \"@material-ui/core/Button\"\r\nimport ShopContext from '../context/shop-context'\r\nconst TAX_RATE = 0.06\r\nconst useStyles = makeStyles(theme => ({\r\n  tabl: {\r\n    \r\n  borderBlockEndStyle:\"groove\",\r\n   borderColor:\"#d50000\",\r\n   borderWidth:3,\r\n   borderWidth:5\r\n\r\n  },\r\n\r\n  container: {\r\n    marginTop: '3.5rem'\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(6),\r\n    marginLeft: theme.spacing(86),\r\n    color:\"white\",\r\n    background:\"rgba(0, 0, 0, 0.95)\",\r\n    width:\"150px\",\r\n    height:\"67px\"\r\n  },\r\n  na:{\r\n    fontSize:22,\r\n    fontFamily:\"Serif\",\r\n    fontWeight: \"bold\",\r\n    color:\"#d50000\"\r\n  },\r\n  Qa:{\r\n   fontSize:21,\r\n   fontFamily:\"Serif\",\r\n   fontWeight: \"bold\",\r\n   color:\"#d50000\",\r\n   fontWeight: \"bold\",\r\n  },\r\n  m:{\r\n    \r\n    fontSize:17,\r\n    fontFamily:\"Serif\",\r\n    fontWeight: \"bold\",\r\n    \r\n   \r\n\r\n\r\n  },\r\n  tax:{\r\n    fontSize:17,\r\n   fontFamily:\"Serif\",\r\n   fontWeight: \"bold\",\r\n   color:\"#d50000\",\r\n   fontWeight: \"bold\",\r\n  },\r\n  ts:{\r\n    fontSize:15,\r\n    fontFamily:\"Serif\",\r\n    fontWeight: \"bold\",\r\n  }\r\n\r\n}));\r\n\r\nfunction ccyFormat(num) {\r\n  return `${num.toFixed(2)} JOD`\r\n}\r\nfunction subtotal(items) {\r\n  return  items.map(({ price, quantity}) => price * quantity).reduce((sum, i) => sum + i, 0)\r\n}\r\nexport default function SpanningTable() {\r\n  const classes = useStyles()\r\n  const order = () => {\r\n  \r\n    window.location = \"/location\";\r\n     //alert(value)\r\n  };\r\n  const context = React.useContext(ShopContext)\r\n  const history = useHistory()\r\n  const [cartItems, setCartItems] = React.useState(JSON.parse(localStorage.getItem(\"cart\"))|| [])\r\n  let invoiceSubtotal = subtotal(cartItems)\r\n  let invoiceTaxes = TAX_RATE * invoiceSubtotal\r\n  let invoiceTotal = invoiceTaxes + invoiceSubtotal\r\n  let localCart = localStorage.getItem(\"cart\");\r\n  React.useEffect(() => {\r\n    // there is no token, redirect to login page\r\n    if (localStorage.getItem('loggedInToken') === null) {\r\n      history.push('/login')\r\n    }\r\n    //turn it into js\r\n    localCart = JSON.parse(localCart);\r\n    // //load persisted cart into state if it exists\r\n    if (localCart) {\r\n      setCartItems(localCart)\r\n      invoiceSubtotal = subtotal(localCart)\r\n    }\r\n  }, [localCart])\r\n  return (\r\n    <div>\r\n    <div>\r\n    <section>\r\n      <Container className={classes.container}>\r\n        <TableContainer component={Paper}>\r\n          <Table className={classes.tabl} >\r\n            <TableHead>\r\n              \r\n              \r\n                {/* <TableCell align=\"right\">Action</TableCell> */}\r\n              \r\n              <TableRow>\r\n                <TableCell className={classes.na}>Product</TableCell>\r\n                <TableCell className={classes.Qa} >Quantity</TableCell>\r\n                <TableCell  className={classes.Qa}>Price</TableCell>\r\n                {/* <TableCell align=\"right\">Unit</TableCell> */}\r\n                <TableCell  className={classes.Qa} align=\"right\">Sum</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {cartItems.length > 0 && cartItems.map((cartItem, idx) => (\r\n                <TableRow key={idx}>\r\n               \r\n                  <TableCell className={classes.m}>{cartItem.name}</TableCell>\r\n                  <TableCell className={classes.m} >{cartItem.quantity}</TableCell>\r\n                  <TableCell className={classes.m}>{cartItem.price}jd</TableCell>\r\n                  <TableCell className={classes.m} align=\"right\">{ccyFormat(cartItem.price * cartItem.quantity)}</TableCell>\r\n                  <TableCell >\r\n                  <IconButton onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\r\n                    <DeleteIcon className={classes.icon} />\r\n                  </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {cartItems.length > 0 && (\r\n              <>\r\n                <TableRow>\r\n                  <TableCell rowSpan={3} />\r\n                  <TableCell  className={classes.tax} colSpan={2}>Subtotal</TableCell>\r\n                  <TableCell className={classes.ts} >{ccyFormat(invoiceSubtotal)}</TableCell>\r\n                </TableRow>\r\n               <TableRow>\r\n                  <TableCell  className={classes.tax} >Tax</TableCell>\r\n                  <TableCell className={classes.ts} >{`${(TAX_RATE * 100).toFixed(0)} %`}</TableCell>\r\n                  <TableCell className={classes.ts} >{ccyFormat(invoiceTaxes)}</TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell  className={classes.tax} colSpan={2}>Total</TableCell>\r\n                  <TableCell className={classes.ts} >{ccyFormat(invoiceTotal)}</TableCell>\r\n                </TableRow>\r\n              </>\r\n              )}\r\n              {cartItems.length < 1 && (\r\n                <Typography className={classes.title} variant=\"p\" id=\"tableTitle\" component=\"p\">\r\n                  No item in your shopping cart\r\n                </Typography>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n    </Container>  \r\n    </section>\r\n    </div>\r\n    <div>\r\n    <Button\r\n        \r\n        size=\"large\"\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        component=\"a\"\r\n        onClick={order}\r\n      >\r\nNext     </Button>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}